{"version":3,"file":"index.js","sources":["../src/js/pixaby-api..js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchData(url) {\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error('Oooops!');\n    }\n    return response.json();\n  });\n}\n","export function createMarkup(arr) {\n  return arr\n    .map(\n      item =>\n        ` <li class=\"gallery-item\">\n      <a href=\"${item.largeImageURL}\"><img class=\"img\" src=\"${item.webformatURL}\" alt=\"${item.tags}\"/></a>\n      <div class=\"card-wrapper\"><p class=\"like text\">Likes<span class=\"content\">${item.likes}</span></p>\n      <p class=\"view text\">Views<span class=\"content\">${item.views}</span></p>\n      <p class=\"comment text\">Comments<span class=\"content\">${item.comments}</span></p>\n      <p class=\"download text\">Downloads<span class=\"content\">${item.downloads}</span></p></div>\n      \n    </li>`\n    )\n    .join('');\n}\n","import { fetchData } from './js/pixaby-api.';\nimport { createMarkup } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst btn = document.querySelector('.btn');\nconst galleryN = document.querySelector('.gallery');\nconst input = document.querySelector('.text-input');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', handletSubmit);\ngalleryN.addEventListener('click', handlerClick);\n\nfunction handletSubmit(event) {\n  event.preventDefault();\n\n  const userChoice = event.target.elements.text.value.trim();\n  if (userChoice === '') {\n    return iziToast.warning({\n      title: '',\n      position: 'topRight',\n      message: 'You forgot to fill the field!',\n    });\n  }\n  form.reset();\n  galleryN.innerHTML = '';\n  loader.style.display = 'block';\n  fetchData(\n    `https://pixabay.com/api/?key=47394436-b99c7e5d1cf7e77b7cf55ecb6&q=${userChoice}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(data => {\n      if (data.total === 0) {\n        return iziToast.error({\n          title: '',\n          position: 'topRight',\n          message:\n            '\"Sorry, there are no images matching your search query. Please try again!\"',\n        });\n      }\n      galleryN.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n      gallery.refresh();\n    })\n    .catch(error =>\n      iziToast.error({\n        title: '',\n        position: 'topRight',\n        message: 'Oooops! Somthing went wrong :/',\n      })\n    )\n    .finally(() => (loader.style.display = 'none'));\n}\n\nlet gallery = new SimpleLightbox('.gallery-item a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction handlerClick(event) {\n  event.preventDefault();\n  if (event.target.nodeName !== 'IMG') {\n    return;\n  }\n  gallery.on('show.simplelightbox');\n}\n"],"names":["fetchData","url","response","createMarkup","arr","item","form","galleryN","loader","handletSubmit","handlerClick","event","userChoice","iziToast","data","gallery","error","SimpleLightbox"],"mappings":"wvBAAO,SAASA,EAAUC,EAAK,CAC7B,OAAO,MAAMA,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,SAAS,EAE3B,OAAOA,EAAS,MACpB,CAAG,CACH,CCPO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACCC,GACE;AAAA,iBACSA,EAAK,aAAa,2BAA2BA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA,kFAChBA,EAAK,KAAK;AAAA,wDACpCA,EAAK,KAAK;AAAA,8DACJA,EAAK,QAAQ;AAAA,gEACXA,EAAK,SAAS;AAAA;AAAA,UAGzE,EACA,KAAK,EAAE,CACZ,CCPA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAC/B,SAAS,cAAc,MAAM,EACzC,MAAMC,EAAW,SAAS,cAAc,UAAU,EACpC,SAAS,cAAc,aAAa,EAClD,MAAMC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAa,EAC7CF,EAAS,iBAAiB,QAASG,CAAY,EAE/C,SAASD,EAAcE,EAAO,CAC5BA,EAAM,eAAc,EAEpB,MAAMC,EAAaD,EAAM,OAAO,SAAS,KAAK,MAAM,OACpD,GAAIC,IAAe,GACjB,OAAOC,EAAS,QAAQ,CACtB,MAAO,GACP,SAAU,WACV,QAAS,+BACf,CAAK,EAEHP,EAAK,MAAK,EACVC,EAAS,UAAY,GACrBC,EAAO,MAAM,QAAU,QACvBR,EACE,qEAAqEY,CAAU,0DAChF,EACE,KAAKE,GAAQ,CACZ,GAAIA,EAAK,QAAU,EACjB,OAAOD,EAAS,MAAM,CACpB,MAAO,GACP,SAAU,WACV,QACE,4EACZ,CAAS,EAEHN,EAAS,mBAAmB,YAAaJ,EAAaW,EAAK,IAAI,CAAC,EAChEC,EAAQ,QAAO,CACrB,CAAK,EACA,MAAMC,GACLH,EAAS,MAAM,CACb,MAAO,GACP,SAAU,WACV,QAAS,gCACjB,CAAO,CACF,EACA,QAAQ,IAAOL,EAAO,MAAM,QAAU,MAAO,CAClD,CAEA,IAAIO,EAAU,IAAIE,EAAe,kBAAmB,CAClD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASP,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAChBA,EAAM,OAAO,WAAa,OAG9BI,EAAQ,GAAG,qBAAqB,CAClC"}